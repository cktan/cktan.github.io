<!DOCTYPE html>
<head>
	<meta name="generator" content="Hugo 0.18.1" />
    <meta charset="utf-8">
    <base href="http://cktan.us/">

    <title>Here There be Data</title>

    <link
      rel="canonical"
      href="http://cktan.us/"
    />

    <link
      href="http://cktan.us/index.xml"
      rel="alternate"
      type="application/rss+xml"
      title="Here There be Data"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js">
    </script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>

    <link
      rel="stylesheet"
      type="text/css"
      href="/css/styles.css"
    />
</head>


<body>

<section id="header">
  <h1>
    <a href="http://cktan.us/">Here There be Data</a>
  </h1>
  <h2>by CK Tan</h2>
</section>


<section>
   
    <section class="summary">
  <h2>
    <a href="/post/2015-10-20-greenplum-db-catalog-corruption-fix/">Catalog Corruption in Greenplum DB</a>
  </h2>
  <time>20 October, 2015</time>
  <article>
    <p>Recently one of our clients experienced catalog corruption in Greenplum DB after a power outage.
When the GPDB was restarted, a catalog corruption had manifested, and even though normal SQL submission still works, pg_dump was failing with an error like this:
$ pg_dump -t TABNAME DBNAME &gt; /dev/null pg_dump: schema with OID 12345678 does not exist  First, determine what needs to be fixed. Fire up psql and check:
select oid from pg_type where typnamespace = 12345678; select oid from pg_class where relnamespace = 12345678; select oid from pg_operator where oprnamespace = 12345678; select oid from pg_conversion where connamespace = 12345678; select oid from pg_opclass where opcnamespace = 12345678; select oid from pg_aggregate where aggnamespace = 12345678; select oid from pg_proc where procnamespace = 12345678;  If any of the above queries returned a row, we can attempt to fix the corruption by deleting the offending entries.</p>
  </article>
</section>

   
    <section class="summary">
  <h2>
    <a href="/post/2015-05-17-postgres-compare-table/">Comparing Tables in Postgres</a>
  </h2>
  <time>17 May, 2015</time>
  <article>
    <p>How to tell if two tables are exactly the same?
Method 1: Use SQL EXCEPT If you google around, you will find this post, where the use of EXCEPT is suggested. To obtain rows in t1 that are missing in t2:
select * from (table t1 except table t2) foo;  To obtain all rows that are different between t1 and t2:
-- note: do not drop the parens select * from ((table t1 except table t2) union all (table t2 except table t1)) foo;  Note that an empty result set from the above query does not indicate that t1 and t2 are EQUAL.</p>
  </article>
</section>

   
    <section class="summary">
  <h2>
    <a href="/post/2015-03-15-postgres-date-dimension/">Date Dimension Table in Postgres</a>
  </h2>
  <time>15 March, 2015</time>
  <article>
    <p>One of the first dimension tables required for any Data Warehouse project is the Date Dimension table. See Calendar Date Dimensions @kimballgroup.
We want our date dimension table to look like this:
Column | Type | Description ------------------ | ---- | ----------- date_key | int | A number corresponding to the date. e.g. 20150315. date | date | SQL date. y | int | Year in number, e.g. 2015. m | int | Month in number (1.</p>
  </article>
</section>

  
</section>

<section id="paginator">


</section>




</body>
